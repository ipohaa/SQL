## Создание таблиц для HW2
+ [1. Создать таблицу employees](https://github.com/ipohaa/sql/tree/main/homework2#1-создать-таблицу-employees)  
+ [2. Наполнить таблицу employees 70 строками](https://github.com/ipohaa/sql/tree/main/homework2#2-наполнить-таблицу-employees-70-строками)  
+ [3. Создать таблицу salary](https://github.com/ipohaa/sql/tree/main/homework2#3-создать-таблицу-salary)  
+ [4. Наполнить таблицу salary данными](https://github.com/ipohaa/sql/tree/main/homework2#4-наполнить-таблицу-salary-данными)  
+ [5. Наполнить таблицу employee_salary 40 строками](https://github.com/ipohaa/sql/tree/main/homework2#5-создать-таблицу-employee_salary)  
+ [6. Наполнить таблицу employee_salary 40 строками](https://github.com/ipohaa/sql/tree/main/homework2#6-наполнить-таблицу-employee_salary-40-строками)  
+ [7. Создать таблицу roles](https://github.com/ipohaa/sql/tree/main/homework2#7-создать-таблицу-roles)  
+ [8. Сменить тип данных в таблице roles в столбце role_name на varchar(30)](https://github.com/ipohaa/sql/tree/main/homework2#8-сменить-тип-данных-в-таблице-roles-в-столбце-role_name-на-varchar30)  
+ [9. Наполнить таблицу roles 20 строками](https://github.com/ipohaa/sql/tree/main/homework2#9-наполнить-таблицу-roles-20-строками)  
+ [10. Создать таблицу roles_employee](https://github.com/ipohaa/sql/tree/main/homework2#10-создать-таблицу-roles_employee)  
+ [11. Наполнить таблицу roles_employee 40 строками](https://github.com/ipohaa/sql/tree/main/homework2#11-наполнить-таблицу-roles_employee-40-строками)  

## Домашнее задание #2

+ [1. Вывести всех работников чьи зарплаты есть в базе, вместе с зарплатами.](https://github.com/ipohaa/sql/tree/main/homework2#1-вывести-всех-работников-чьи-зарплаты-есть-в-базе-вместе-с-зарплатами)  
+ [2. Вывести всех работников у которых ЗП меньше 2000.](https://github.com/ipohaa/sql/tree/main/homework2#2-вывести-всех-работников-у-которых-зп-меньше-2000)  
+ [3. Вывести все зарплатные позиции, но работник по ним не назначен. (ЗП есть, но не понятно кто её получает.)](https://github.com/ipohaa/sql/tree/main/homework2#3-вывести-все-зарплатные-позиции-но-работник-по-ним-не-назначен-зп-есть-но-не-понятно-кто-её-получает)  
+ [4. Вывести все зарплатные позиции  меньше 2000 но работник по ним не назначен. (ЗП есть, но не понятно кто её получает.)](https://github.com/ipohaa/sql/tree/main/homework2#4-вывести-все-зарплатные-позиции-меньше-2000-работник-по-которым-не-назначен-зп-есть-но-не-понятно-кто-её-получает)  
+ [5. Найти всех работников кому не начислена ЗП.](https://github.com/ipohaa/sql/tree/main/homework2#5-найти-всех-работников-кому-не-начислена-зп)  
+ [6. Вывести всех работников с названиями их должности.](https://github.com/ipohaa/sql/tree/main/homework2#6-вывести-всех-работников-с-названиями-их-должности)  
+ [7. Вывести имена и должность только Java разработчиков.](https://github.com/ipohaa/sql/tree/main/homework2#7-вывести-имена-и-должность-только-java-разработчиков) 
+ [8. Вывести имена и должность только Python разработчиков.](https://github.com/ipohaa/sql/tree/main/homework2#8-вывести-имена-и-должность-только-python-разработчиков)  
+ [9. Вывести имена и должность всех QA инженеров.](https://github.com/ipohaa/sql/tree/main/homework2#9-вывести-имена-и-должность-только-qa-инженеров)  
+ [10. Вывести имена и должность ручных QA инженеров.](https://github.com/ipohaa/sql/tree/main/homework2#10-вывести-имена-и-должность-только-ручных-qa-инженеров)  
+ [11. Вывести имена и должность автоматизаторов QA](https://github.com/ipohaa/sql/tree/main/homework2#11-вывести-имена-и-должность-только-автоматизаторов-qa)  
+ [12. Вывести имена и зарплаты Junior специалистов](https://github.com/ipohaa/sql/tree/main/homework2#12-вывести-имена-и-зарплаты-junior-специалистов)  
+ [13. Вывести имена и зарплаты Middle специалистов](https://github.com/ipohaa/sql/tree/main/homework2#13-вывести-имена-и-зарплаты-middle-специалистов)  
+ [14. Вывести имена и зарплаты Senior специалистов](https://github.com/ipohaa/sql/tree/main/homework2#14-вывести-имена-и-зарплаты-senior-специалистов)  
+ [15. Вывести зарплаты Java разработчиков](https://github.com/ipohaa/sql/tree/main/homework2#15-вывести-зарплаты-java-разработчиков)  
+ [16. Вывести зарплаты Python разработчиков](https://github.com/ipohaa/sql/tree/main/homework2#16-вывести-зарплаты-python-разработчиков)  
+ [17. Вывести имена и зарплаты Junior Python разработчиков](https://github.com/ipohaa/sql/tree/main/homework2#17-вывести-имена-и-зарплаты-junior-python-разработчиков)  
+ [18. Вывести имена и зарплаты Middle JS разработчиков](https://github.com/ipohaa/sql/tree/main/homework2#18-вывести-имена-и-зарплаты-middle-javascript-разработчиков)  
+ [19. Вывести имена и зарплаты Senior Java разработчиков](https://github.com/ipohaa/sql/tree/main/homework2#19-вывести-имена-и-зарплаты-senior-java-разработчиков)  
+ [20. Вывести зарплаты Junior QA инженеров](https://github.com/ipohaa/sql/tree/main/homework2#20-вывести-зарплаты-junior-qa-инженеров)  
+ [21. Вывести среднюю зарплату всех Junior специалистов](https://github.com/ipohaa/sql/tree/main/homework2#21-вывести-среднюю-зарплату-всех-junior-специалистов)  
+ [22. Вывести сумму зарплат JS разработчиков](https://github.com/ipohaa/sql/tree/main/homework2#22-вывести-сумму-зарплат-javascript-разработчиков)  
+ [23. Вывести минимальную ЗП QA инженеров](https://github.com/ipohaa/sql/tree/main/homework2#23-вывести-минимальную-зп-qa-инженеров)  
+ [24. Вывести максимальную ЗП QA инженеров](https://github.com/ipohaa/sql/tree/main/homework2#24-вывести-максимальную-зп-qa-инженеров)  
+ [25. Вывести количество QA инженеров](https://github.com/ipohaa/sql/tree/main/homework2#25-вывести-количество-qa-инженеров)  
+ [26. Вывести количество Middle специалистов.](https://github.com/ipohaa/sql/tree/main/homework2#26-вывести-количество-middle-специалистов)  
+ [27. Вывести количество разработчиков](https://github.com/ipohaa/sql/tree/main/homework2#27-вывести-количество-разработчиков)  
+ [28. Вывести фонд (сумму) зарплаты разработчиков.](https://github.com/ipohaa/sql/tree/main/homework2#28-вывести-фонд-сумму-зарплаты-разработчиков)  
+ [29. Вывести имена, должности и ЗП всех специалистов по возрастанию](https://github.com/ipohaa/sql/tree/main/homework2#29-вывести-имена-должности-и-зп-всех-специалистов-по-возрастанию)  
+ [30. Вывести имена, должности и ЗП всех специалистов по возрастанию у специалистов у которых ЗП от 1700 до 2300](https://github.com/ipohaa/sql/tree/main/homework2#30-вывести-имена-должности-и-зп-всех-специалистов-по-возрастанию-у-специалистов-у-которых-зп-от-1700-до-2300)  
+ [31. Вывести имена, должности и ЗП всех специалистов по возрастанию у специалистов у которых ЗП меньше 2300](https://github.com/ipohaa/sql/tree/main/homework2#31-вывести-имена-должности-и-зп-всех-специалистов-по-возрастанию-у-специалистов-у-которых-зп-меньше-2300)  
+ [32. Вывести имена, должности и ЗП всех специалистов по возрастанию у специалистов у которых ЗП равна 1100, 1500, 2000](https://github.com/ipohaa/sql/tree/main/homework2#32-вывести-имена-должности-и-зп-всех-специалистов-по-возрастанию-у-специалистов-у-которых-зп-равна-1100-1500-2000)  

## Создание таблиц / sql/[DDL]()

### 1. Создать таблицу `employees`
id serial,  primary key,  
employee_name Varchar(50), not null
```
create table employees(
	id serial primary key,
	employee_name varchar(50) not null
); 
```

### 2. Наполнить таблицу `*employees` 70 строками 
```
insert into employees (employee_name)
values ('Алиса Щербакова'),
('Максим Черкасов'),
('Карина Хохлова');..

```
<details>
  <summary>..полный список</summary>
  
```
('Алиса Щербакова'),
('Максим Черкасов'),
('Карина Хохлова'),
('Дарья Попова'),
('Ксения Майорова'),
('Яна Осипова'),
('Вера Иванова'),
('Полина Соловьева'),
('Тимофей Наумов'),
('Илья Шестаков'),
('Юрий Ларионов'),
('Маргарита Свиридова'),
('Илья Степанов'),
('Вера Гаврилова'),
('Иван Воробьев'),
('Михаил Сорокин'),
('Константин Блинов'),
('Анжелика Виноградова'),
('Евгения Романова'),
('Кирилл Быков'),
('Мария Кузнецова'),
('Варвара Семенова'),
('Артём Волков'),
('Мирон Трофимов'),
('Степан Софронов'),
('Александра Измайлова'),
('Мария Савельева'),
('Елена Воронина'),
('Милана Беликова'),
('Алиса Никулина'),
('Ангелина Киселева'),
('Дмитрий Пономарев'),
('Арсен Богданов'),
('Глеб Булгаков'),
('Софья Устинова'),
('Елена Миронова'),
('Мирон Соловьев'),
('Александр Виноградов'),
('Арина Соловьева'),
('Елизавета Соловьева'),
('Вероника Ларина'),
('Арсений Синицын'),
('Варвара Волкова'),
('София Волкова'),
('Юлия Андрианова'),
('Павел Васильев'),
('Давид Фомин'),
('Тимофей Королев'),
('Арина Поликарпова'),
('Мария Панова'),
('Лев Косарев'),
('Дмитрий Ерофеев'),
('Кирилл Филиппов'),
('Софья Зыкова'),
('Максим Рябинин'),
('Евгений Макаров'),
('Фёдор Иванов'),
('Виктория Потапова'),
('Станислав Петров'),
('Степан Широков'),
('Даниил Платонов'),
('Александра Глухова'),
('Андрей Ефимов'),
('Мария Еремина'),
('Даниил Серов'),
('Никита Быков'),
('Святослав Григорьев'),
('Илья Андреев'),
('Михаил Ершов'),
('Георгий Леонов');
```
</details>

### 3. Создать таблицу `salary`
id serial,  primary key,  
monthly_salary int, not null, unique
```
create table salary(
	id serial primary key,
	monthly_salary int not null unique
);
```
### 4. Наполнить таблицу `*salary` данными 
```
insert into  salary (monthly_salary)
values (1000),(1100),(1200),(1300),(1400),(1500),(1600),(1700),(1800),(1900),(2000),(2100),(2200),(2300),(2400),(2500);
```

### 5. Создать таблицу `employee_salary`
id serial, primary key,  
employee_id Int, not null, unique
salary_id Int, not null
```
create table employee_salary (
	id serial primary key,
	employee_id int not null unique,
	salary_id int not null
);
```
### 6. Наполнить таблицу `*employee_salary` 40 строками 
в 10 строк из 40 вставить несуществующие employee_id
```
insert into employee_salary (employee_id, salary_id)
values (3,7),(1,4),(5,9),(40,13),(23,4),(11,2),(52,10),(15,13),(26,4),(16,1),(33,7);
```
### 7. Создать таблицу `roles`
id serial, primary key,
role_name Int, not null, unique
```
create table roles (
	id serial primary key,
	role_name int not null unique
);
```
### 8. Сменить тип данных в таблице `*roles` в столбце `role_name` на varchar(30)
```
alter table roles
alter column role_name type varchar(30);
```
### 9. Наполнить таблицу `*roles` 20 строками
```
insert into roles (role_name)
values ('Junior Python developer'),
('Middle Python developer'),
('Senior Python developer'),
('Junior Java developer'),
('Middle Java developer'),
('Senior Java developer'),
('Junior JavaScript developer'),
('Middle JavaScript developer'),
('Senior JavaScript developer'),
('Junior Manual QA engineer'),
('Middle Manual QA engineer'),
('Senior Manual QA engineer'),
('Project Manager'),
('Designer'),
('HR'),
('CEO'),
('Sales Manager'),
('Junior Automation QA engineer'),
('Middle Automation QA engineer'),
('Senior Automation QA engineer');
```
### 10. Создать таблицу `roles_employee`
id serial, primary key,
employee_id Int, not null, unique (внешний ключ для таблицы employees, поле id)
role_id Int, not null (внешний ключ для таблицы roles, поле id)

```
create table roles_employee(
	id serial primary key,
	employee_id int not null unique,
	foreign key (employee_id) 
		references employees(id),
	role_id int not null,
	foreign key (role_id)
		references roles(id)
);
```

### 11. Наполнить таблицу `*roles_employee` 40 строками
```
insert into roles_employee (employee_id, role_id)
values (7,2),
(20,4),
(3,9),
(5,13),
(23,4),
(11,2),
(10,9),
(22,13),
(21,3),
(34,4),
(6,7);
```

## Домашняя работа #2 / sql/[homework2]()

### 1. Вывести всех работников чьи зарплаты есть в базе, вместе с зарплатами.
```
select employee_name, monthly_salary from employee_salary es
	join employees e on es.employee_id = e.id
	join salary s on es.salary_id = s.id
order by monthly_salary;

```
### 2. Вывести всех работников у которых ЗП меньше 2000
```
select employee_name, monthly_salary from employee_salary es
	join employees e on es.employee_id = e.id
	join salary s on es.salary_id = s.id
where monthly_salary <2000
order by monthly_salary;

```
### 3. Вывести все зарплатные позиции, но работник по ним не назначен. (ЗП есть, но не понятно кто её получает.)
```
select employee_id, monthly_salary from employee_salary es
	join salary s on es.salary_id = s.id
where employee_id is null

```
### 4. Вывести все зарплатные позиции меньше 2000, работник по которым не назначен. (ЗП есть, но не понятно кто её получает.)
```
select employee_id, monthly_salary from employee_salary es
	join salary s on es.salary_id = s.id
where employee_id is null and monthly_salary <2000;

```
### 5. Найти всех работников кому не начислена ЗП.
```
select employee_name, salary_id from employee_salary es
	join employees e on es.employee_id = e.id
where salary_id is null;

```
### 6. Вывести всех работников с названиями их должности
```
select employee_name, role_name from roles_employee re
	join roles r on re.role_id = r.id
	join employees e on re.employee_id = e.id

```
### 7. Вывести имена и должность только Java разработчиков.
```
select employee_name, role_name from roles_employee re
	join roles r on re.role_id = r.id
	join employees e on re.employee_id = e.id
where role_name like '%Java%'

```
### 8. Вывести имена и должность только Python разработчиков.
```
select employee_name, role_name from roles_employee re
	join roles r on re.role_id = r.id
	join employees e on re.employee_id = e.id
where role_name like '%Python%'

```
### 9. Вывести имена и должность только QA инженеров.
```
select employee_name, role_name from roles_employee re
	join roles r on re.role_id = r.id
	join employees e on re.employee_id = e.id
where role_name like '%QA%'

```
### 10. Вывести имена и должность только ручных QA инженеров.
```
select employee_name, role_name from roles_employee re
	join roles r on re.role_id = r.id
	join employees e on re.employee_id = e.id
where role_name like '%Manual%'

```
### 11. Вывести имена и должность только автоматизаторов QA.
```
select employee_name, role_name from roles_employee re
	join roles r on re.role_id = r.id
	join employees e on re.employee_id = e.id
where role_name like '%Automation%'

```
### 12. Вывести имена и зарплаты Junior специалистов
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%Junior%'

```
### 13. Вывести имена и зарплаты Middle специалистов
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%Middle%'

```
### 14. Вывести имена и зарплаты Senior специалистов
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%Senior%'

```
### 15. Вывести зарплаты Java разработчиков
```
select role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
where role_name like '%Java %'

```
### 16. Вывести зарплаты Python разработчиков
```
select role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
where role_name like '%Python%'

```
### 17. Вывести имена и зарплаты Junior Python разработчиков
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%Middle Python%'

```
### 18. Вывести имена и зарплаты Middle JavaScript разработчиков
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%Middle JavaScript%'

```
### 19. Вывести имена и зарплаты Senior Java разработчиков
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%Senior Java %'

```
### 20. Вывести зарплаты Junior QA инженеров
```
select role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
where role_name like '%Junior%QA%'

```
### 21. Вывести среднюю зарплату всех Junior специалистов
```
select avg(monthly_salary) from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%Junior%'

```
### 22. Вывести сумму зарплат JavaScript разработчиков
```
select sum(monthly_salary) from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%JavaScript%'

```
### 23. Вывести минимальную ЗП QA инженеров
```
select min(monthly_salary) from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%QA%'

```
### 24. Вывести максимальную ЗП QA инженеров
```
select max(monthly_salary) from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where role_name like '%QA%'

```
### 25. Вывести количество QA инженеров
```
select count(role_name) from roles_employee re
	join roles r on re.role_id = r.id
where role_name like '%QA%'

```
### 26. Вывести количество Middle специалистов
```
select count(role_name) from roles_employee re
	join roles r on re.role_id = r.id
where role_name like '%Middle%'

```
### 27. Вывести количество разработчиков
```
select count(role_name) from roles_employee re
	join roles r on re.role_id = r.id
where role_name like '%developer%'

```
### 28. Вывести фонд (сумму) зарплаты разработчиков
```
select sum(monthly_salary) from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
where role_name like '%developer%'

```
### 29. Вывести имена, должности и ЗП всех специалистов по возрастанию
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
order by monthly_salary;

```
### 30. Вывести имена, должности и ЗП всех специалистов по возрастанию у специалистов у которых ЗП от 1700 до 2300
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where monthly_salary between 1700 and 2300
order by monthly_salary;

```
### 31. Вывести имена, должности и ЗП всех специалистов по возрастанию у специалистов у которых ЗП меньше 2300
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where monthly_salary < 2300
order by monthly_salary;

```
### 32. Вывести имена, должности и ЗП всех специалистов по возрастанию у специалистов у которых ЗП равна 1100, 1500, 2000
```
select employee_name, role_name, monthly_salary from roles_employee re
	join employee_salary es on re.employee_id = es.employee_id
	join roles r on re.role_id = r.id
	join salary s on es.salary_id = s.id
	join employees e ON es.employee_id = e.id
where monthly_salary in (1150, 1500, 2000)
order by monthly_salary;
```
